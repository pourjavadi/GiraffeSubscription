<!DOCTYPE html>
<html lang="en" dir="ltr" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giraffe Subscription</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css">
    <style>
        /* Base styles */
        :root {
            --bg-color: #f0f4f8;
            --card-bg: #ffffff;
            --text-color: #1e293b;
            --text-muted: #64748b;
            --border-color: #e2e8f0;
            --primary-gradient: linear-gradient(135deg, #4f46e5, #7c3aed);
            --primary-color: #4338ca;
            --primary-hover: #4f46e5;
            --accent-bg: #f8fafc;
            --accent-hover: #f1f5f9;
            --badge-active: #10b981;
            --badge-limited: #ef4444;
            --badge-expired: #f59e0b;
            --badge-disabled: #64748b;
            --progress-bg: #e2e8f0;
            --progress-fill: linear-gradient(90deg, #3b82f6, #6366f1);
            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --modal-overlay: rgba(15, 23, 42, 0.75);
        }
        
        .dark {
            --bg-color: #0f172a;
            --card-bg: #1e293b;
            --text-color: #f1f5f9;
            --text-muted: #94a3b8;
            --border-color: #334155;
            --primary-gradient: linear-gradient(135deg, #6366f1, #8b5cf6);
            --primary-color: #818cf8;
            --primary-hover: #6366f1;
            --accent-bg: #1e293b;
            --accent-hover: #334155;
            --badge-active: #059669;
            --badge-limited: #dc2626;
            --badge-expired: #d97706;
            --badge-disabled: #4b5563;
            --progress-bg: #334155;
            --progress-fill: linear-gradient(90deg, #3b82f6, #8b5cf6);
            --shadow-sm: 0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2);
            --modal-overlay: rgba(0, 0, 0, 0.8);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.5;
            padding: 1.5rem;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        html[lang="fa"] body {
            font-family: 'Vazirmatn', 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
        }
        
        html[dir="rtl"] .button-icon {
            margin-right: 0;
            margin-left: 0.375rem;
        }
        
        /* Container */
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        /* Header with language and theme toggles */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            gap: 1rem;
        }
        
        .brand {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--primary-color);
            font-weight: 700;
            font-size: 1.25rem;
        }
        
        .brand-icon {
            width: 28px;
            height: 28px;
        }
        
        .toggle-container {
            display: flex;
            gap: 1rem;
        }
        
        .toggle-group {
            display: flex;
            align-items: center;
            background-color: var(--accent-bg);
            border-radius: 9999px;
            padding: 0.25rem;
            border: 1px solid var(--border-color);
        }
        
        .toggle-button {
            background: none;
            border: none;
            padding: 0.5rem 0.75rem;
            border-radius: 9999px;
            cursor: pointer;
            font-size: 0.875rem;
            color: var(--text-muted);
            transition: all 0.2s ease;
        }
        
        .toggle-button.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        .toggle-button:hover:not(.active) {
            background-color: var(--accent-hover);
            color: var(--text-color);
        }
        
        /* Card */
        .card {
            background-color: var(--card-bg);
            border-radius: 1rem;
            box-shadow: var(--shadow-md);
            overflow: hidden;
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }
        
        .card-header {
            background: var(--primary-gradient);
            color: white;
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
        }
        
        .card-header::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
            opacity: 0.3;
        }
        
        .card-title {
            font-size: 1.5rem;
            font-weight: 700;
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .card-content {
            padding: 1.5rem;
        }
        
        /* Sections */
        .section {
            margin-bottom: 2rem;
        }
        
        .section-title {
            font-size: 1.25rem;
            font-weight: 600;
            padding-bottom: 0.75rem;
            margin-bottom: 1.25rem;
            border-bottom: 2px solid var(--border-color);
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .section-icon {
            width: 20px;
            height: 20px;
        }
        
        /* Grid */
        .grid {
            display: grid;
            gap: 1.25rem;
        }
        
        .grid-cols-1 {
            grid-template-columns: 1fr;
        }
        
        @media (min-width: 768px) {
            .grid-cols-2 {
                grid-template-columns: 1fr 1fr;
            }
            
            .grid-cols-4 {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        .col-span-2 {
            grid-column: span 2;
        }
        
        /* Info items */
        .info-item {
            margin-bottom: 1.25rem;
            background-color: var(--accent-bg);
            padding: 1rem;
            border-radius: 0.75rem;
            border: 1px solid var(--border-color);
            transition: all 0.2s ease;
        }
        
        .info-item:hover {
            box-shadow: var(--shadow-sm);
            border-color: var(--border-color);
        }
        
        .info-label {
            font-size: 0.875rem;
            color: var(--text-muted);
            margin-bottom: 0.375rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.375rem;
        }
        
        .info-label-icon {
            width: 16px;
            height: 16px;
        }
        
        .info-value {
            font-weight: 600;
            color: var(--text-color);
        }
        
        .info-note {
            font-size: 0.875rem;
            color: var(--text-muted);
            margin-left: 0.375rem;
        }
        
        html[dir="rtl"] .info-note {
            margin-left: 0;
            margin-right: 0.375rem;
        }
        
        /* Status badges */
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 0.375rem 0.875rem;
            border-radius: 9999px;
            font-weight: 600;
            font-size: 0.75rem;
            text-transform: uppercase;
            color: white;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            gap: 0.375rem;
        }
        
        .badge-active {
            background-color: var(--badge-active);
        }
        
        .badge-limited {
            background-color: var(--badge-limited);
        }
        
        .badge-expired {
            background-color: var(--badge-expired);
        }
        
        .badge-disabled {
            background-color: var(--badge-disabled);
        }
        
        /* Progress bar */
        .progress-container {
            width: 100%;
            background-color: var(--progress-bg);
            border-radius: 9999px;
            height: 0.5rem;
            margin-top: 0.75rem;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            border-radius: 9999px;
            background: var(--progress-fill);
            transition: width 1s ease-in-out;
            position: relative;
        }
        
        .progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                45deg,
                rgba(255, 255, 255, 0.2) 25%,
                transparent 25%,
                transparent 50%,
                rgba(255, 255, 255, 0.2) 50%,
                rgba(255, 255, 255, 0.2) 75%,
                transparent 75%,
                transparent
            );
            background-size: 1rem 1rem;
            animation: progress-animation 1s linear infinite;
        }
        
        @keyframes progress-animation {
            0% {
                background-position: 1rem 0;
            }
            100% {
                background-position: 0 0;
            }
        }
        
        /* Accordion */
        .section-accordion {
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            margin-bottom: 1.5rem;
            overflow: hidden;
            background-color: var(--card-bg);
            box-shadow: var(--shadow-sm);
            transition: all 0.3s ease;
        }
        
        .section-accordion:hover {
            box-shadow: var(--shadow-md);
        }
        
        .section-accordion-header {
            padding: 1rem 1.5rem;
            background-color: var(--accent-bg);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            color: var(--primary-color);
            border-bottom: 1px solid transparent;
            transition: all 0.3s ease;
        }
        
        .section-accordion-header:hover {
            background-color: var(--accent-hover);
        }
        
        .section-accordion-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .section-accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
        }
        
        .section-accordion-content-inner {
            padding: 1.5rem;
        }
        
        .section-accordion.active .section-accordion-header {
            border-bottom-color: var(--border-color);
        }
        
        .section-accordion.active .section-accordion-content {
            max-height: 2000px;
        }
        
        .accordion-icon {
            transition: transform 0.3s;
        }
        
        .section-accordion.active .accordion-icon {
            transform: rotate(180deg);
        }
        
        /* Config accordion (inside section accordion) */
        .config-accordion {
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            margin-bottom: 0.75rem;
            overflow: hidden;
            background-color: var(--card-bg);
        }
        
        .config-accordion-header {
            padding: 0.75rem 1rem;
            background-color: var(--accent-bg);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 500;
            border-bottom: 1px solid transparent;
        }
        
        .config-accordion-title {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .config-accordion-header:hover {
            background-color: var(--accent-hover);
        }
        
        .config-accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        
        .config-accordion-content-inner {
            padding: 1rem;
        }
        
        .config-accordion.active .config-accordion-header {
            border-bottom-color: var(--border-color);
        }
        
        .config-accordion.active .config-accordion-content {
            max-height: 500px;
        }
        
        /* Links section */
        .link-item {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 0.75rem;
        }
        
        @media (min-width: 640px) {
            .link-item {
                flex-direction: row;
                align-items: center;
            }
        }
        
        .link-input {
            flex-grow: 1;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            font-family: monospace;
            font-size: 0.875rem;
            background-color: var(--accent-bg);
            color: var(--text-color);
            transition: all 0.2s ease;
        }
        
        .link-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }
        
        .button-group {
            display: flex;
            gap: 0.5rem;
        }
        
        /* Buttons */
        .button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-weight: 500;
            font-size: 0.875rem;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid var(--border-color);
            background-color: var(--card-bg);
            color: var(--text-color);
        }
        
        .button:hover {
            background-color: var(--accent-hover);
            border-color: var(--text-muted);
        }
        
        .button:active {
            transform: translateY(1px);
        }
        
        .button-icon {
            margin-right: 0.375rem;
            width: 1rem;
            height: 1rem;
        }
        
        /* QR Code Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--modal-overlay);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 50;
            backdrop-filter: blur(4px);
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        
        .modal-overlay.visible {
            opacity: 1;
            visibility: visible;
        }
        
        .modal {
            background-color: var(--card-bg);
            border-radius: 1rem;
            padding: 1.5rem;
            max-width: 28rem;
            width: 100%;
            box-shadow: var(--shadow-lg);
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }
        
        .modal-overlay.visible .modal {
            transform: translateY(0);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .modal-title {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-color);
        }
        
        .close-button {
            background: none;
            border: none;
            cursor: pointer;
            width: 2rem;
            height: 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem;
            color: var(--text-muted);
            transition: all 0.2s ease;
        }
        
        .close-button:hover {
            background-color: var(--accent-hover);
            color: var(--text-color);
        }
        
        .qr-container {
            display: flex;
            justify-content: center;
            padding: 1rem;
            background-color: white;
            border-radius: 0.5rem;
        }
        
        /* App download section */
        .app-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }
        
        @media (min-width: 640px) {
            .app-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }
        
        .app-card {
            border: 1px solid var(--border-color);
            border-radius: 0.75rem;
            padding: 1rem 0.75rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: all 0.3s ease;
            background-color: var(--card-bg);
        }
        
        .app-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
            border-color: var(--border-color);
        }
        
        .app-icon {
            width: 40px;
            height: 40px;
            margin-bottom: 0.75rem;
            color: var(--primary-color);
        }
        
        .app-name {
            font-weight: 600;
            margin-bottom: 0.25rem;
            color: var(--text-color);
            font-size: 0.875rem;
        }
        
        .app-description {
            color: var(--text-muted);
            margin-bottom: 0.75rem;
            font-size: 0.75rem;
        }
        
        .download-button {
            background: var(--primary-gradient);
            color: white;
            border: none;
            padding: 0.375rem 0.75rem;
            border-radius: 0.375rem;
            font-weight: 500;
            font-size: 0.75rem;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            display: inline-block;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }
        
        .download-button:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }
        
        .download-button:active {
            transform: translateY(0);
        }
        
        /* Utility classes */
        .hidden {
            display: none;
        }
        
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }
        
        /* Responsive adjustments */
        @media (max-width: 640px) {
            body {
                padding: 1rem;
            }
            
            .page-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .toggle-container {
                width: 100%;
                justify-content: space-between;
            }
            
            .card-header {
                padding: 1.25rem;
            }
            
            .card-content {
                padding: 1.25rem;
            }
            
            .section-accordion-header {
                padding: 0.875rem 1.25rem;
            }
            
            .section-accordion-content-inner {
                padding: 1.25rem;
            }
            
            .button-group {
                width: 100%;
            }
            
            .button {
                flex: 1;
                padding: 0.5rem;
                font-size: 0.75rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header with language and theme toggles -->
        <div class="page-header">
            <div class="brand">
                <svg class="brand-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M17 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h10Z"/>
                    <path d="M12 11v6"/>
                    <path d="M8 11v6"/>
                    <path d="M16 11v6"/>
                    <path d="M8 7h.01"/>
                    <path d="M12 7h.01"/>
                    <path d="M16 7h.01"/>
                </svg>
                <span data-en="Giraffe Subscription" data-fa="اشتراک زرافه">Giraffe Subscription</span>
            </div>
            
            <div class="toggle-container">
                <div class="toggle-group">
                    <button id="lightMode" class="toggle-button active" aria-label="Light Mode">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="5"></circle>
                            <line x1="12" y1="1" x2="12" y2="3"></line>
                            <line x1="12" y1="21" x2="12" y2="23"></line>
                            <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                            <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                            <line x1="1" y1="12" x2="3" y2="12"></line>
                            <line x1="21" y1="12" x2="23" y2="12"></line>
                            <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                            <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                        </svg>
                    </button>
                    <button id="darkMode" class="toggle-button" aria-label="Dark Mode">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                        </svg>
                    </button>
                </div>
                
                <div class="toggle-group">
                    <button id="enLang" class="toggle-button active" aria-label="English">EN</button>
                    <button id="faLang" class="toggle-button" aria-label="Persian">فا</button>
                </div>
            </div>
        </div>
        
        <!-- Main Card -->
        <div class="card">
            <div class="card-header">
                <h1 class="card-title" data-en="Subscription Information" data-fa="اطلاعات اشتراک">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2"></path>
                        <path d="M18 14h-8"></path>
                        <path d="M15 18h-5"></path>
                        <path d="M10 6h8v4h-8V6Z"></path>
                    </svg>
                    <span>Subscription Information</span>
                </h1>
            </div>
            <div class="card-content">
                <!-- User Information Section -->
                <div class="section">
                    <h2 class="section-title" data-en="User Information" data-fa="اطلاعات کاربر">
                        <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"></path>
                            <circle cx="12" cy="7" r="4"></circle>
                        </svg>
                        <span>User Information</span>
                    </h2>
                    
                    <div class="grid grid-cols-1 grid-cols-2">
                        <div class="info-item">
                            <div class="info-label" data-en="Username" data-fa="نام کاربری">
                                <svg class="info-label-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                    <circle cx="12" cy="7" r="4"></circle>
                                </svg>
                                <span>Username</span>
                            </div>
                            <div class="info-value">{{ user.username }}</div>
                        </div>
                        
                        <div class="info-item">
                            <div class="info-label" data-en="Status" data-fa="وضعیت">
                                <svg class="info-label-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                    <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                </svg>
                                <span>Status</span>
                            </div>
                            <div class="info-value">
                                <span class="badge {% if user.status.value == 'active' %}badge-active{% elif user.status.value == 'limited' %}badge-limited{% elif user.status.value == 'expired' %}badge-expired{% elif user.status.value == 'disabled' %}badge-disabled{% endif %}">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        {% if user.status.value == 'active' %}
                                        <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                        <polyline points="22 4 12 14.01 9 11.01"></polyline>
                                        {% elif user.status.value == 'limited' %}
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <line x1="12" y1="8" x2="12" y2="12"></line>
                                        <line x1="12" y1="16" x2="12.01" y2="16"></line>
                                        {% elif user.status.value == 'expired' %}
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <line x1="8" y1="12" x2="16" y2="12"></line>
                                        {% elif user.status.value == 'disabled' %}
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <line x1="15" y1="9" x2="9" y2="15"></line>
                                        <line x1="9" y1="9" x2="15" y2="15"></line>
                                        {% endif %}
                                    </svg>
                                    <span data-en="{{ user.status.value }}" data-fa="{% if user.status.value == 'active' %}فعال{% elif user.status.value == 'limited' %}محدود{% elif user.status.value == 'expired' %}منقضی شده{% elif user.status.value == 'disabled' %}غیرفعال{% endif %}">
                                    {{ user.status.value }}
                                    </span>
                                </span>
                            </div>
                        </div>
                        
                        <div class="info-item">
                            <div class="info-label" data-en="Data Limit" data-fa="محدودیت داده">
                                <svg class="info-label-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                                </svg>
                                <span>Data Limit</span>
                            </div>
                            <div class="info-value">
                                {% if not user.data_limit %}∞{% else %}{{ user.data_limit | bytesformat }}{% endif %}
                            </div>
                        </div>
                        
                        <div class="info-item">
                            <div class="info-label" data-en="Data Used" data-fa="داده مصرف شده">
                                <svg class="info-label-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M22 12h-4l-3 9L9 3l-3 9H2"></path>
                                </svg>
                                <span>Data Used</span>
                            </div>
                            <div class="info-value">
                                {{ user.used_traffic | bytesformat }}
                                {% if user.data_limit_reset_strategy != 'no_reset' %}
                                <span class="info-note" data-en="(resets every {{ user.data_limit_reset_strategy.value }})" data-fa="(هر {{ user.data_limit_reset_strategy.value }} ریست می‌شود)">(resets every {{ user.data_limit_reset_strategy.value }})</span>
                                {% endif %}
                                
                                {% if user.data_limit %}
                                <div class="progress-container">
                                    <div class="progress-bar" style="width: {{ (user.used_traffic / user.data_limit) * 100 }}%"></div>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                        
                        <div class="info-item col-span-2">
                            <div class="info-label" data-en="Expiration Date" data-fa="تاریخ انقضا">
                                <svg class="info-label-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                                <span>Expiration Date</span>
                            </div>
                            <div class="info-value">
                                {% if not user.expire %}
                                ∞
                                {% else %}
                                {% set current_timestamp = now().timestamp() %}
                                {% set remaining_days = ((user.expire - current_timestamp) // (24 * 3600)) %}
                                {{ user.expire | datetime }}
                                <span class="info-note" data-en="({{ remaining_days | int }} days remaining)" data-fa="({{ remaining_days | int }} روز باقی مانده)">({{ remaining_days | int }} days remaining)</span>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Download V2Ray Clients Section -->
                <div class="section">
                    <h2 class="section-title" data-en="Download V2Ray Clients" data-fa="دانلود کلاینت‌های V2Ray">
                        <svg class="section-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="7 10 12 15 17 10"></polyline>
                            <line x1="12" y1="15" x2="12" y2="3"></line>
                        </svg>
                        <span>Download V2Ray Clients</span>
                    </h2>
                    
                    <div class="app-grid">
                        <!-- Android -->
                        <div class="app-card">
                            <svg class="app-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M5 16V8c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2v8c0 1.1-.9 2-2 2H7c-1.1 0-2-.9-2-2z"/>
                                <path d="M12 6V2M8 6v1M16 6v1M12 18v4"/>
                            </svg>
                            <div class="app-name" data-en="Android" data-fa="اندروید">Android</div>
                            <p class="app-description">V2rayNG</p>
                            <a href="https://play.google.com/store/apps/details?id=com.v2ray.ang" class="download-button" target="_blank" data-en="Download" data-fa="دانلود">Download</a>
                        </div>
                        
                        <!-- iOS -->
                        <div class="app-card">
                            <svg class="app-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 2a8 8 0 0 0-8 8v12h16V10a8 8 0 0 0-8-8z"/>
                                <path d="M4 10v2M20 10v2"/>
                            </svg>
                            <div class="app-name" data-en="iOS" data-fa="آی‌او‌اس">iOS</div>
                            <p class="app-description">Shadowrocket</p>
                            <a href="https://apps.apple.com/us/app/shadowrocket/id932747118" class="download-button" target="_blank" data-en="App Store" data-fa="اپ استور">App Store</a>
                        </div>
                        
                        <!-- Windows -->
                        <div class="app-card">
                            <svg class="app-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                                <line x1="8" y1="21" x2="16" y2="21"/>
                                <line x1="12" y1="17" x2="12" y2="21"/>
                            </svg>
                            <div class="app-name" data-en="Windows" data-fa="ویندوز">Windows</div>
                            <p class="app-description">V2rayN</p>
                            <a href="https://github.com/2dust/v2rayN/releases" class="download-button" target="_blank" data-en="Download" data-fa="دانلود">Download</a>
                        </div>
                        
                        <!-- Linux -->
                        <div class="app-card">
                            <svg class="app-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20z"/>
                                <path d="M12 8v8M8 12h8"/>
                            </svg>
                            <div class="app-name" data-en="Linux" data-fa="لینوکس">Linux</div>
                            <p class="app-description">Qv2ray</p>
                            <a href="https://github.com/Qv2ray/Qv2ray/releases" class="download-button" target="_blank" data-en="Download" data-fa="دانلود">Download</a>
                        </div>
                    </div>
                </div>
                
                <!-- Links Section with Accordion -->
                {% if user.status.value == 'active' %}
                <div class="section-accordion">
                    <div class="section-accordion-header" id="subscriptionLinksHeader">
                        <div class="section-accordion-title">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path>
                                <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
                            </svg>
                            <span data-en="Subscription Links" data-fa="لینک‌های اشتراک">Subscription Links</span>
                        </div>
                        <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    </div>
                    <div class="section-accordion-content">
                        <div class="section-accordion-content-inner">
                            {% for link in user.links %}
                            <div class="config-accordion">
                                <div class="config-accordion-header">
                                    <div class="config-accordion-title">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                            <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"></path>
                                        </svg>
                                        <span data-en="Configuration {{ loop.index }}" data-fa="پیکربندی {{ loop.index }}">Configuration {{ loop.index }}</span>
                                    </div>
                                    <svg class="accordion-icon" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <polyline points="6 9 12 15 18 9"></polyline>
                                    </svg>
                                </div>
                                <div class="config-accordion-content">
                                    <div class="config-accordion-content-inner">
                                        <div class="link-item">
                                            <input type="text" value="{{ link }}" readonly class="link-input">
                                            <div class="button-group">
                                                <button class="button copy-button" onclick="copyLink('{{ link }}', this)">
                                                    <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                                        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                                                    </svg>
                                                    <span data-en="Copy" data-fa="کپی">Copy</span>
                                                </button>
                                                <button class="button qr-button" data-link="{{ link }}">
                                                    <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                                        <rect x="7" y="7" width="3" height="3"></rect>
                                                        <rect x="14" y="7" width="3" height="3"></rect>
                                                        <rect x="7" y="14" width="3" height="3"></rect>
                                                        <rect x="14" y="14" width="3" height="3"></rect>
                                                    </svg>
                                                    <span data-en="QR Code" data-fa="کد QR">QR Code</span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
    
    <!-- QR Code Modal -->
    <div id="qrModal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h3 class="modal-title" data-en="Scan QR Code" data-fa="اسکن کد QR">Scan QR Code</h3>
                <button class="close-button" id="closeModal">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                    <span class="sr-only">Close</span>
                </button>
            </div>
            <div class="qr-container" id="qrContainer"></div>
        </div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script>
        // Theme toggle functionality
        const htmlElement = document.documentElement;
        const lightModeBtn = document.getElementById('lightMode');
        const darkModeBtn = document.getElementById('darkMode');
        
        lightModeBtn.addEventListener('click', () => {
            htmlElement.classList.remove('dark');
            htmlElement.classList.add('light');
            lightModeBtn.classList.add('active');
            darkModeBtn.classList.remove('active');
            localStorage.setItem('theme', 'light');
        });
        
        darkModeBtn.addEventListener('click', () => {
            htmlElement.classList.remove('light');
            htmlElement.classList.add('dark');
            darkModeBtn.classList.add('active');
            lightModeBtn.classList.remove('active');
            localStorage.setItem('theme', 'dark');
        });
        
        // Check for saved theme preference
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            htmlElement.classList.remove('light');
            htmlElement.classList.add('dark');
            darkModeBtn.classList.add('active');
            lightModeBtn.classList.remove('active');
        }
        
        // Language toggle functionality
        const enLangBtn = document.getElementById('enLang');
        const faLangBtn = document.getElementById('faLang');
        
        function setLanguage(lang) {
            const elements = document.querySelectorAll('[data-en]');
            
            if (lang === 'fa') {
                htmlElement.setAttribute('lang', 'fa');
                htmlElement.setAttribute('dir', 'rtl');
                elements.forEach(el => {
                    el.textContent = el.getAttribute('data-fa');
                });
                enLangBtn.classList.remove('active');
                faLangBtn.classList.add('active');
            } else {
                htmlElement.setAttribute('lang', 'en');
                htmlElement.setAttribute('dir', 'ltr');
                elements.forEach(el => {
                    el.textContent = el.getAttribute('data-en');
                });
                enLangBtn.classList.add('active');
                faLangBtn.classList.remove('active');
            }
            
            localStorage.setItem('language', lang);
        }
        
        enLangBtn.addEventListener('click', () => setLanguage('en'));
        faLangBtn.addEventListener('click', () => setLanguage('fa'));
        
        // Check for saved language preference
        const savedLanguage = localStorage.getItem('language');
        if (savedLanguage === 'fa') {
            setLanguage('fa');
        }
        
        // Section Accordion functionality
        const sectionAccordion = document.querySelector('.section-accordion');
        const sectionAccordionHeader = document.getElementById('subscriptionLinksHeader');
        
        if (sectionAccordionHeader) {
            sectionAccordionHeader.addEventListener('click', () => {
                sectionAccordion.classList.toggle('active');
            });
            
            // Keep the section accordion closed by default
            // (removed the line that adds 'active' class)
        }
        
        // Config Accordion functionality
        const configAccordions = document.querySelectorAll('.config-accordion');
        
        configAccordions.forEach(accordion => {
            const header = accordion.querySelector('.config-accordion-header');
            
            header.addEventListener('click', (e) => {
                e.stopPropagation(); // Prevent triggering parent accordion
                accordion.classList.toggle('active');
            });
        });
        
        // Copy link functionality
        function copyLink(link, button) {
            const tempInput = document.createElement('input');
            tempInput.setAttribute('value', link);
            document.body.appendChild(tempInput);
            tempInput.select();
            document.execCommand('copy');
            document.body.removeChild(tempInput);
            
            const originalText = button.innerHTML;
            const lang = htmlElement.getAttribute('lang');
            const copyText = lang === 'fa' ? 'کپی شد!' : 'Copied!';
            
            button.innerHTML = `
                <svg class="button-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                    <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                </svg>
                <span>${copyText}</span>
            `;
            
            setTimeout(function() {
                button.innerHTML = originalText;
            }, 1500);
        }
        
        // QR Code functionality
        const qrButtons = document.querySelectorAll('.qr-button');
        const qrModal = document.getElementById('qrModal');
        const qrContainer = document.getElementById('qrContainer');
        const closeModal = document.getElementById('closeModal');
        
        qrButtons.forEach(button => {
            button.addEventListener('click', function(e) {
                e.stopPropagation(); // Prevent triggering parent accordion
                const link = this.getAttribute('data-link');
                showQrCode(link);
            });
        });
        
        closeModal.addEventListener('click', function() {
            qrModal.classList.remove('visible');
        });
        
        function showQrCode(link) {
            // Clear previous QR code
            qrContainer.innerHTML = '';
            
            // Generate new QR code
            new QRCode(qrContainer, {
                text: link,
                width: 256,
                height: 256,
                colorDark: "#000000",
                colorLight: "#ffffff",
                correctLevel: QRCode.CorrectLevel.L
            });
            
            // Show modal with animation
            qrModal.classList.add('visible');
        }
        
        // Close modal when clicking outside
        qrModal.addEventListener('click', function(event) {
            if (event.target === qrModal) {
                qrModal.classList.remove('visible');
            }
        });
        
        // Animate progress bars on load
        document.addEventListener('DOMContentLoaded', function() {
            const progressBars = document.querySelectorAll('.progress-bar');
            progressBars.forEach(bar => {
                const width = bar.style.width;
                bar.style.width = '0%';
                setTimeout(() => {
                    bar.style.width = width;
                }, 300);
            });
        });
    </script>
</body>
</html>
